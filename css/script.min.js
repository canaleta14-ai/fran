window.addEventListener('scroll',function(){const e=document.getElementById('scrollTopBtn');e&&(e.style.display=window.scrollY>200?'block':'none')});function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'})}document.addEventListener('DOMContentLoaded',function(){const e=document.getElementById('searchInput'),t=document.getElementById('ageFilter'),n=document.getElementById('formatFilter'),r=document.querySelectorAll('.book-card'),l=document.getElementById('bookCount');function i(e){r.forEach(t=>{'all'===e||t.dataset.category.includes(e)?t.style.display='block':t.style.display='none'}),s()}function o(){const i=e?e.value.toLowerCase():'',o=t?t.value:'all',c=n?n.value:'all';r.forEach(e=>{const t=e.dataset.title||'',n=e.dataset.age||'',r=e.dataset.format||'',l=t.includes(i),a='all'===o||n===o,s='all'===c||r===c;l&&a&&s?e.style.display='block':e.style.display='none'}),s()}function s(){if(l){const e=document.querySelectorAll('.book-card[style="display: block;"], .book-card:not([style*="none"])').length;l.textContent=e}}document.querySelectorAll('[data-category]').forEach(e=>{e.addEventListener('click',function(e){e.preventDefault();const t=this.dataset.category;i(t)})}),e&&e.addEventListener('input',o),t&&t.addEventListener('change',o),n&&n.addEventListener('change',o)});function subscribeNewsletter(e){e.preventDefault();const t=document.getElementById('newsletterEmail'),n=document.getElementById('newsletterMessage');return n.innerHTML='<i class="fas fa-check-circle"></i> Thank you for subscribing! Check your email.',n.style.color='#4CAF50',t.value='',setTimeout(()=>{n.innerHTML=''},5e3),!1}
