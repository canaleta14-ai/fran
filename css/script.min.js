window.addEventListener('scroll',function(){const e=document.getElementById('scrollTopBtn');e&&(e.style.display=window.scrollY>200?'block':'none')});function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'})}document.addEventListener('DOMContentLoaded',function(){const e=document.getElementById('searchInput'),t=document.getElementById('ageFilter'),n=document.getElementById('formatFilter'),o=document.querySelectorAll('.book-card'),c=document.getElementById('bookCount');function r(e){o.forEach(t=>{const n=t.dataset.category||'';'all'===e||n.includes(e)?t.style.display='block':t.style.display='none'}),s()}function l(){const r=e?e.value.toLowerCase():'',l=t?t.value:'all',i=n?n.value:'all';o.forEach(e=>{const t=e.dataset.title||'',n=e.dataset.age||'',o=e.dataset.format||'',c=t.includes(r),a='all'===l||n===l,d='all'===i||o===i;c&&a&&d?e.style.display='block':e.style.display='none'}),s()}function s(){if(c){const e=document.querySelectorAll('.book-card[style="display: block;"], .book-card:not([style*="none"])').length;c.textContent=e}}document.querySelectorAll('[data-category]').forEach(e=>{e.addEventListener('click',function(e){e.preventDefault();const t=this.dataset.category;r(t)})}),e&&e.addEventListener('input',l),t&&t.addEventListener('change',l),n&&n.addEventListener('change',l),window.filterByCategory=r});function subscribeNewsletter(e){e.preventDefault();const t=document.getElementById('newsletterEmail'),n=document.getElementById('newsletterMessage');return n.innerHTML='<i class="fas fa-check-circle"></i> Thank you for subscribing! Check your email.',n.style.color='#4CAF50',t.value='',setTimeout(()=>{n.innerHTML=''},5e3),!1}(function(){const e=localStorage.getItem('lovehibo_cookie_consent');if(!e){const e=document.createElement('div');e.id='cookie-consent-banner',e.innerHTML='<div class="cookie-content"><p><i class="fas fa-cookie-bite"></i> <strong>Cookies Notice</strong></p><div class="cookie-buttons"><button onclick="acceptCookies()">Accept</button><button onclick="declineCookies()">Decline</button></div></div>',document.body.appendChild(e)}})();window.acceptCookies=function(){localStorage.setItem('lovehibo_cookie_consent','accepted'),document.getElementById('cookie-consent-banner').style.display='none'};window.declineCookies=function(){localStorage.setItem('lovehibo_cookie_consent','declined'),document.getElementById('cookie-consent-banner').style.display='none'}
